<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>포항과메기라이더스 | 공식 가이드</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;800&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Pretendard', sans-serif;
            background-color: #0f172a; /* Slate 900 */
            color: #f8fafc;
            margin: 0;
            overflow-x: hidden;
            -webkit-tap-highlight-color: transparent;
        }
        /* 유리모피즘 효과 */
        .glass-morphism {
            background: rgba(30, 41, 59, 0.85);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .orange-glow {
            box-shadow: 0 0 30px rgba(249, 115, 22, 0.4);
        }
        /* 애니메이션 정의 */
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-slide-up { 
            animation: slideUp 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards; 
        }
        .hidden-menu {
            display: none;
            opacity: 0;
        }
        .visible-menu {
            display: flex;
            opacity: 1;
        }
        
        /* 스크롤바 커스텀 */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 10px; }
    </style>
</head>
<body class="selection:bg-orange-500/30">

    <nav id="navbar" class="fixed top-0 left-0 right-0 z-50 px-6 py-4 flex justify-between items-center transition-all duration-300">
        <div class="flex items-center gap-2 cursor-pointer" onclick="scrollToSection('home')">
            <div class="w-9 h-9 bg-orange-600 rounded-xl flex items-center justify-center font-black text-white italic shadow-lg rotate-3">P</div>
            <span class="font-extrabold tracking-tighter text-xl uppercase">Gwamegi <span class="text-orange-500 italic">Riders</span></span>
        </div>
        <button onclick="toggleMenu()" class="p-2 text-slate-300 active:scale-90 transition-transform">
            <i data-lucide="menu" class="w-7 h-7"></i>
        </button>
    </nav>

    <div id="mobile-menu" class="fixed inset-0 z-[100] bg-slate-900/98 flex-col items-center justify-center gap-10 p-10 backdrop-blur-2xl transition-all duration-300 hidden-menu">
        <button onclick="scrollToSection('home')" class="text-4xl font-black italic tracking-tight hover:text-orange-500 transition-colors uppercase">Home</button>
        <button onclick="scrollToSection('rules')" class="text-4xl font-black italic tracking-tight hover:text-orange-500 transition-colors uppercase">Rules</button>
        <button onclick="scrollToSection('map')" class="text-4xl font-black italic tracking-tight hover:text-orange-500 transition-colors uppercase">Map</button>
        <a href="https://open.kakao.com/o/pgJRW5di" target="_blank" class="text-4xl font-black italic tracking-tight text-yellow-400 uppercase">Join Chat</a>
        <button onclick="toggleMenu()" class="mt-12 p-4 rounded-full border border-white/10 active:bg-white/5">
            <i data-lucide="x" class="w-8 h-8"></i>
        </button>
    </div>

    <section id="home" class="h-[95vh] flex flex-col items-center justify-center relative px-6 text-center">
        <div class="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1558981403-c5f91cbba527?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center opacity-20"></div>
        <div class="absolute inset-0 bg-gradient-to-b from-slate-900/20 via-slate-900/70 to-slate-900"></div>
        
        <div class="relative z-10 animate-slide-up">
            <div class="inline-block px-4 py-1.5 bg-orange-600/20 border border-orange-600/40 rounded-full text-orange-500 text-[10px] font-bold tracking-[0.3em] mb-8 uppercase">Safe & Passionate Riding</div>
            <h1 class="text-5xl sm:text-7xl font-black mb-8 leading-[1.05] italic tracking-tighter">
                포항의 파도를 가르는<br/>
                <span class="text-orange-500 underline decoration-white/10 underline-offset-8">과메기 라이더스</span>
            </h1>
            <p class="text-slate-400 text-base sm:text-xl mb-12 max-w-sm mx-auto font-medium leading-relaxed opacity-90">
                자유와 안전, 그리고 뜨거운 열정으로 달리는<br/>포항 최고의 모터사이클 크루입니다.
            </p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="https://open.kakao.com/o/pgJRW5di" target="_blank" class="bg-yellow-400 text-black font-black px-10 py-5 rounded-2xl shadow-2xl orange-glow transform active:scale-95 transition-all text-lg inline-flex items-center justify-center gap-3">
                    <i data-lucide="message-circle" class="w-6 h-6"></i> 오픈채팅방 참여
                </a>
                <button onclick="scrollToSection('rules')" class="bg-slate-800 text-white font-bold px-10 py-5 rounded-2xl border border-white/10 transform active:scale-95 transition-all text-lg">
                    이용수칙 보기
                </button>
            </div>
        </div>
    </section>

    <section id="rules" class="py-24 px-6 max-w-2xl mx-auto">
        <div class="text-center mb-16">
            <h2 class="text-4xl font-black italic mb-4 flex justify-center items-center gap-4 uppercase tracking-tighter">
                <i data-lucide="shield-check" class="text-orange-500 w-10 h-10"></i> Club Rules
            </h2>
            <div class="w-12 h-1 bg-orange-600 mx-auto rounded-full mb-6"></div>
            <p class="text-slate-500 text-xs font-bold uppercase tracking-[0.3em]">안전하고 즐거운 크루 활동을 위한 약속</p>
        </div>
        
        <div class="grid gap-6">
            <div class="p-8 glass-morphism rounded-[2.5rem] flex gap-7 items-center hover:border-orange-500/40 transition-all group">
                <div class="bg-orange-600/10 p-5 rounded-3xl text-orange-500 shrink-0 group-hover:scale-110 group-hover:bg-orange-600/20 transition-all duration-300">
                    <i data-lucide="users" class="w-8 h-8"></i>
                </div>
                <div>
                    <h3 class="font-black text-2xl mb-2">상호 존중</h3>
                    <p class="text-slate-400 text-sm sm:text-base leading-relaxed">나이, 기종 관계없이 존댓말 사용 및 예의 준수</p>
                </div>
            </div>
            <div class="p-8 glass-morphism rounded-[2.5rem] flex gap-7 items-center hover:border-orange-500/40 transition-all group">
                <div class="bg-orange-600/10 p-5 rounded-3xl text-orange-500 shrink-0 group-hover:scale-110 group-hover:bg-orange-600/20 transition-all duration-300">
                    <i data-lucide="message-square" class="w-8 h-8"></i>
                </div>
                <div>
                    <h3 class="font-black text-2xl mb-2">정치/종교 금지</h3>
                    <p class="text-slate-400 text-sm sm:text-base leading-relaxed">분쟁 소지가 있는 민감한 주제 언급 자제</p>
                </div>
            </div>
            <div class="p-8 glass-morphism rounded-[2.5rem] flex gap-7 items-center hover:border-orange-500/40 transition-all group">
                <div class="bg-orange-600/10 p-5 rounded-3xl text-orange-500 shrink-0 group-hover:scale-110 group-hover:bg-orange-600/20 transition-all duration-300">
                    <i data-lucide="shield" class="w-8 h-8"></i>
                </div>
                <div>
                    <h3 class="font-black text-2xl mb-2">클린 채팅</h3>
                    <p class="text-slate-400 text-sm sm:text-base leading-relaxed">욕설, 비방, 도배 금지 (위반 시 즉시 강퇴)</p>
                </div>
            </div>
        </div>

        <div class="mt-16 p-10 bg-slate-800/40 border border-white/5 rounded-[3.5rem] relative overflow-hidden group">
            <div class="absolute top-0 right-0 p-10 opacity-5 group-hover:opacity-10 transition-opacity">
                <i data-lucide="navigation" class="w-32 h-32"></i>
            </div>
            <h3 class="font-black text-2xl mb-8 text-orange-500 flex items-center gap-3 italic">
                <i data-lucide="info" class="w-7 h-7"></i> 투어 에티켓 가이드
            </h3>
            <ul class="space-y-6 relative z-10 text-slate-300">
                <li class="flex items-start gap-4"><div class="mt-2.5 w-2 h-2 bg-orange-500 rounded-full shrink-0"></div>집결 시간 10분 전 도착 엄수</li>
                <li class="flex items-start gap-4"><div class="mt-2.5 w-2 h-2 bg-orange-500 rounded-full shrink-0"></div>출발 전 연료 가득 채우기</li>
                <li class="flex items-start gap-4"><div class="mt-2.5 w-2 h-2 bg-orange-500 rounded-full shrink-0"></div>대열 주행 시 추월 절대 금지</li>
                <li class="flex items-start gap-4"><div class="mt-2.5 w-2 h-2 bg-orange-500 rounded-full shrink-0"></div>헬멧 및 안전 보호구 필수 착용</li>
            </ul>
        </div>
    </section>

    <section id="map" class="py-24 px-6 bg-slate-900/80 border-y border-white/5">
        <div class="max-w-2xl mx-auto text-center mb-12">
            <h2 class="text-4xl font-black italic mb-4 flex justify-center items-center gap-4 uppercase tracking-tighter">
                <i data-lucide="map" class="text-orange-500 w-10 h-10"></i> Riders Map
            </h2>
            <p class="text-slate-500 text-sm font-bold uppercase tracking-widest">포항 라이딩 집결지</p>
        </div>
        
        <div class="max-w-2xl mx-auto rounded-[3.5rem] overflow-hidden aspect-[3/4] border-4 border-slate-800 shadow-2xl bg-slate-800 relative group">
            <iframe 
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d51680.64418641477!2d129.33054815!3d36.0190373!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x356703b4125b09df%3A0x6c6e76868512228f!2zEA!5e0!3m2!1sko!2skr!4v1708845000000!5m2!1sko!2skr" 
                width="100%" 
                height="100%" 
                style="border:0; filter: grayscale(20%) contrast(1.1);" 
                allowfullscreen="" 
                loading="lazy" 
                referrerpolicy="no-referrer-when-downgrade">
            </iframe>
            
            <div class="absolute bottom-6 right-6 left-6 text-center">
                 <a href="https://www.google.com/maps/d/edit?mid=1qiJWtAP_E66N5tqR6nhhluV1gMhf82g&usp=sharing3" target="_blank" class="block w-full bg-orange-600 hover:bg-orange-500 text-white font-bold py-4 rounded-2xl shadow-lg transition-colors">
                    <i data-lucide="external-link" class="inline w-5 h-5 mr-2"></i> 내 지도로 자세히 보기
                 </a>
            </div>
        </div>
    </section>

    <section class="py-24 px-6">
        <div class="max-w-xl mx-auto p-12 glass-morphism rounded-[3.5rem] border-orange-500/20 shadow-2xl relative overflow-hidden">
            <div class="absolute -top-10 -left-10 w-32 h-32 bg-orange-600/10 blur-3xl rounded-full"></div>
            <div class="flex items-center gap-4 mb-8">
                <div class="w-12 h-12 bg-orange-600 rounded-2xl flex items-center justify-center text-white shadow-xl rotate-3">
                    <i data-lucide="sparkles" class="w-6 h-6"></i>
                </div>
                <h3 class="text-3xl font-black italic tracking-tighter">AI 라이더 가이드</h3>
            </div>
            <p class="text-slate-400 text-sm sm:text-base mb-8 leading-relaxed font-medium">
                포항의 라이딩 코스, 맛집 등 궁금한 것이 있다면<br/>무엇이든 물어보이소! (Gemini AI 탑재)
            </p>
            <div class="space-y-4">
                <textarea id="ai-input" rows="3" placeholder="예: 호미곶 말고 한적한 해안도로 추천해줘!" class="w-full bg-slate-900/80 border border-slate-700 rounded-[2rem] py-5 px-8 text-base focus:border-orange-500 outline-none transition-all placeholder:text-slate-600 text-white resize-none"></textarea>
                <button onclick="askAI()" id="ai-btn" class="w-full bg-orange-600 hover:bg-orange-500 py-5 rounded-[2rem] font-black text-white text-lg shadow-xl transition-all active:scale-95 flex items-center justify-center gap-3">
                    질문하기
                </button>
            </div>
        </div>
    </section>

    <div class="fixed bottom-0 left-0 right-0 h-22 glass-morphism z-[60] flex justify-around items-center px-6 border-t border-white/5 pb-2">
        <button onclick="scrollToSection('home')" class="flex flex-col items-center gap-2 text-slate-500 hover:text-orange-500 transition-colors">
            <i data-lucide="map-pin" class="w-6 h-6"></i><span class="text-[10px] font-black tracking-tighter uppercase">Home</span>
        </button>
        <button onclick="scrollToSection('rules')" class="flex flex-col items-center gap-2 text-slate-500 hover:text-orange-500 transition-colors">
            <i data-lucide="shield-check" class="w-6 h-6"></i><span class="text-[10px] font-black tracking-tighter uppercase">Rules</span>
        </button>
        <div class="relative -top-7">
            <div class="absolute inset-0 bg-orange-600 rounded-full blur-2xl opacity-40 animate-pulse"></div>
            <a href="https://open.kakao.com/o/pgJRW5di" target="_blank" class="relative w-18 h-18 bg-yellow-400 rounded-full flex items-center justify-center text-black shadow-2xl border-4 border-slate-900 transform active:scale-90 transition-transform w-[72px] h-[72px]">
                <i data-lucide="message-circle" class="w-8 h-8 fill-black"></i>
            </a>
        </div>
        <button onclick="scrollToSection('map')" class="flex flex-col items-center gap-2 text-slate-500 hover:text-orange-500 transition-colors">
            <i data-lucide="map" class="w-6 h-6"></i><span class="text-[10px] font-black tracking-tighter uppercase">Map</span>
        </button>
        <a href="https://www.instagram.com/pohang_gwamegi_riders" target="_blank" class="flex flex-col items-center gap-2 text-slate-500 hover:text-orange-500 transition-colors">
            <i data-lucide="instagram" class="w-6 h-6"></i><span class="text-[10px] font-black tracking-tighter uppercase">Sns</span>
        </a>
    </div>

    <footer class="py-16 px-6 text-center border-t border-white/5 bg-slate-950/50 pb-28">
        <p class="text-slate-600 text-[11px] font-black tracking-[0.4em] uppercase mb-3">Pohang Gwamegi Riders</p>
        <p class="text-slate-700 text-[10px] font-medium leading-relaxed">
            Safe Riding, Safe Life.<br/>포항의 바람과 파도를 사랑하는 라이더들의 공간입니다.<br/>
            © 2024. All riders safe and sound.
        </p>
    </footer>

    <script type="module">
        // Lucide 아이콘 초기화
        lucide.createIcons();

        // 1. 스크롤 기능
        window.scrollToSection = function(id) {
            const el = document.getElementById(id);
            if (el) {
                const offset = 80;
                const pos = el.getBoundingClientRect().top + window.scrollY;
                window.scrollTo({ top: pos - offset, behavior: 'smooth' });
            }
            toggleMenu(false);
        }

        // 2. 메뉴 토글 기능
        window.toggleMenu = function(forceState) {
            const menu = document.getElementById('mobile-menu');
            const isHidden = menu.classList.contains('hidden-menu');
            
            if (forceState === false || !isHidden) {
                menu.classList.remove('visible-menu');
                menu.classList.add('hidden-menu');
                document.body.style.overflow = '';
            } else {
                menu.classList.remove('hidden-menu');
                menu.classList.add('visible-menu');
                document.body.style.overflow = 'hidden';
            }
        }

        // 3. 네비게이션 바 디자인 변경 (스크롤 시)
        window.addEventListener('scroll', () => {
            const nav = document.getElementById('navbar');
            if (window.scrollY > 30) {
                nav.classList.add('glass-morphism', 'shadow-2xl', 'py-3');
                nav.classList.remove('bg-transparent', 'py-4');
            } else {
                nav.classList.remove('glass-morphism', 'shadow-2xl', 'py-3');
                nav.classList.add('bg-transparent', 'py-4');
            }
        });

        // 4. AI 기능 (Google GenAI)
        import { GoogleGenerativeAI } from "https://esm.sh/@google/generative-ai";

        window.askAI = async function() {
            const input = document.getElementById('ai-input');
            const btn = document.getElementById('ai-btn');
            const userText = input.value.trim();

            if (!userText) return;

            // 로딩 상태 표시
            const originalBtnText = btn.innerHTML;
            btn.innerHTML = '<div class="w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"></div> 분석 중...';
            btn.disabled = true;

            try {
                // API 키 설정 (직접 입력 필요)
                const API_KEY = ""; // ⚠️ 여기에 API 키를 넣으세요
                
                if(!API_KEY) {
                    alert("개발자님! 코드 내부에 API 키가 설정되지 않았습니다.");
                    throw new Error("API Key Missing");
                }

                const genAI = new GoogleGenerativeAI(API_KEY);
                const model = genAI.getGenerativeModel({ model: "gemini-pro" });

                const prompt = `질문: ${userText}. 당신은 '포항과메기라이더스' 바이크 크루의 명예 회원입니다. 포항의 라이딩 코스나 맛집, 안전 규칙에 대해 경상도 사투리로 아주 씩씩하고 위트 있게 답변해주세요.`;

                const result = await model.generateContent(prompt);
                const response = await result.response;
                const text = response.text();

                alert(text);
                input.value = ''; // 입력창 초기화

            } catch (error) {
                console.error("AI Error:", error);
                if(error.message !== "API Key Missing") {
                    alert("AI 연결에 실패했습니다. 잠시 후 다시 시도해주세요.");
                }
            } finally {
                // 버튼 복구
                btn.innerHTML = originalBtnText;
                btn.disabled = false;
            }
        }
    </script>
</body>
</html>
